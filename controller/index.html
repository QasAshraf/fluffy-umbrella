<script src="/socket.io.js"></script>
<script>
    var socket = io();
    socket.emit('controllerData', 'ping');

    socket.on('serverBroadcast', function(msg){
        console.log(msg);
    });

    if(window.DeviceMotionEvent){
        window.addEventListener("devicemotion", motion, false);
    }else{
        console.log("DeviceMotionEvent is not supported");
    }

    function motion(event){
        console.log("Accelerometer: "
                + event.accelerationIncludingGravity.x + ", "
                + event.accelerationIncludingGravity.y + ", "
                + event.accelerationIncludingGravity.z
        );

        socket.emit('controllerData', {
            "accelX" : event.accelerationIncludingGravity.x,
            "accelY" : event.accelerationIncludingGravity.y,
            "accelZ" : event.accelerationIncludingGravity.z,
        });
    }
</script>

<h1>welcome to the awesome game controller</h1>